get_rate_task:
  description: >
    You have received a payment of {amount_received} {currency}.
    Your job is to:
    1. Use the Exchange Rate API tool to get the current USD to MXN exchange rate
    2. Call the tool with base_currency="USD" and target_currency="MXN"
    3. Extract the exchange rate number from the tool's output
    4. Calculate the equivalent amount in MXN by multiplying {amount_received} by the exchange rate
    5. Provide both the exchange rate and the converted amount
  expected_output: >
    A clear report with the following information:
    - Date: YYYY-MM-DD
    - Exchange Rate: [Number] MXN per 1 USD
    - Amount Received: {amount_received} USD
    - Converted Amount: [Calculated Amount] MXN

    Example:
    "Date: YYYY-MM-DD
    Exchange Rate: XX.XX MXN per 1 USD
    Amount Received: XXXX USD
    Converted Amount: XXXXX.XX MXN"
  agent: currency_reporter

debt_settlement_task:
  description: >
    Using the "Converted Amount" calculated in the previous step, determine
    the net remaining balance after all financial obligations.
    Your job is to:
    1. Use the Finance Data Manager tool [FinanceJSONTool] to retrieve all
       categories of expenses (fixed_expenses, credit_cards, and debts).
    2. Sum the total amount of all expenses found in the JSON file (db/expenses.json).
    3. Subtract this total sum from the "Converted Amount" provided by the
       Currency Exchange Rate Analyst.
    4. Provide a detailed breakdown of total income, total expenses, and the
       final remaining balance in MXN.
  expected_output: >
    A financial summary report including:
    - Initial Income (Converted Amount): [Number] MXN
    - Total Fixed Expenses: [Sum] MXN
    - Total Credit Card Payments: [Sum] MXN
    - Total Debt Payments: [Sum] MXN
    - Total Monthly Expenses: [Total Sum] MXN
    - FINAL REMAINING BALANCE: [Income - Expenses] MXN

    Example:
    "Initial Income: 10,000.00 MXN
    Total Expenses: 4,500.00 MXN
    ---------------------------
    REMAINING BALANCE: 5,500.00 MXN"
  agent: personal_finance_manager

debt_analysis_and_strategy_task:
  description: >
    STEP 1: Call "Finance Data Manager" tool with category="all" to get debt data.
    STEP 2: After getting the data, analyze it yourself (no more tool calls needed).

    From credit_cards, extract: name, balance, interest_rate (or cat).
    From debts, extract: description, total_remaining.

    STEP 3: Create two rankings:
    - SNOWBALL: Sort all debts from smallest balance to largest
    - AVALANCHE: Sort all debts from highest interest rate to lowest

    STEP 4: Recommend which strategy is better and why.
    Use the Remaining Balance from the previous task as extra payment amount.

    STEP 5: Write your final answer with the debt list, both rankings, and your recommendation.
    Do NOT output "Thought:" or "Action:" in your final answer - just provide the analysis directly.
  expected_output: >
    DEBT INVENTORY:
    1. [Name]: $[balance] MXN at [rate]% interest
    2. [Name]: $[balance] MXN at [rate]% interest
    (list all debts and credit cards)

    SNOWBALL ORDER (smallest first):
    1. [Name] - $[balance]
    2. [Name] - $[balance]

    AVALANCHE ORDER (highest rate first):
    1. [Name] - [rate]%
    2. [Name] - [rate]%

    RECOMMENDED STRATEGY: [Snowball/Avalanche]
    REASON: [Explain why this strategy is better for this situation]

    ACTION PLAN:
    - Extra monthly payment available: $[remaining balance] MXN
    - First target: [Name]
    - Estimated months to clear first debt: [X] months
  agent: debt_elimination_strategist

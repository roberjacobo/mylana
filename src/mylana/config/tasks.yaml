get_rate_task:
  description: >
    You have received a payment of {amount_received} {currency}.
    Your job is to:
    1. Use the Exchange Rate API tool to get the current USD to MXN exchange rate
    2. Call the tool with base_currency="USD" and target_currency="MXN"
    3. Extract the exchange rate number from the tool's output
    4. Calculate the equivalent amount in MXN by multiplying {amount_received} by the exchange rate
    5. Provide both the exchange rate and the converted amount
  expected_output: >
    A clear report with the following information:
    - Date: YYYY-MM-DD
    - Exchange Rate: [Number] MXN per 1 USD
    - Amount Received: {amount_received} USD
    - Converted Amount: [Calculated Amount] MXN

    Example:
    "Date: YYYY-MM-DD
    Exchange Rate: XX.XX MXN per 1 USD
    Amount Received: XXXX USD
    Converted Amount: XXXXX.XX MXN"
  agent: currency_reporter

debt_settlement_task:
  description: >
    Using the "Converted Amount" calculated in the previous step, determine
    the net remaining balance after all financial obligations.
    Your job is to:
    1. Use the Finance Data Manager tool [FinanceJSONTool] to retrieve all
       categories of expenses (fixed_expenses, credit_cards, and debts).
    2. Sum the total amount of all expenses found in the JSON file (db/expenses.json).
    3. Subtract this total sum from the "Converted Amount" provided by the
       Currency Exchange Rate Analyst.
    4. Provide a detailed breakdown of total income, total expenses, and the
       final remaining balance in MXN.
  expected_output: >
    A financial summary report including:
    - Initial Income (Converted Amount): [Number] MXN
    - Total Fixed Expenses: [Sum] MXN
    - Total Credit Card Payments: [Sum] MXN
    - Total Debt Payments: [Sum] MXN
    - Total Monthly Expenses: [Total Sum] MXN
    - FINAL REMAINING BALANCE: [Income - Expenses] MXN

    Example:
    "Initial Income: 10,000.00 MXN
    Total Expenses: 4,500.00 MXN
    ---------------------------
    REMAINING BALANCE: 5,500.00 MXN"
  agent: personal_finance_manager

debt_analysis_and_strategy_task:
  description: >
    Use the "Finance Data Manager" tool to retrieve debt data. Call it with
    category="all" and file_path="db/expenses.json".

    Your job is to:
    1. Call the "Finance Data Manager" tool to get financial data.
    2. Extract 'debts' and 'credit_cards' from the returned JSON.
       - Credit cards: use 'balance' as debt amount, 'interest_rate' or 'cat' for rate
       - Debts: use 'total_remaining' as balance (no interest rate available)
    3. Perform BOTH analyses:
       a) Debt Snowball: Rank from smallest to largest balance
       b) Debt Avalanche: Rank from highest to lowest interest rate
    4. For each method, calculate:
       - Order of payoff
       - Estimated total interest paid
       - Months to become debt-free
    5. Compare both methods and recommend the most suitable one based on:
       - User's available cash flow (Remaining Balance from previous task)
       - Interest rate differences between debts
       - Psychological benefit of quick wins vs mathematical savings
    6. Calculate estimated payoff date for the first priority debt if user
       applies their remaining balance as extra payment.
    7. Provide a step-by-step priority list with specific amounts.
  expected_output: >
    A strategic debt elimination roadmap including:
    - Debt Inventory: List all debts with balance and interest rate
    - Snowball Analysis: Priority order, estimated months, total interest
    - Avalanche Analysis: Priority order, estimated months, total interest
    - RECOMMENDED STRATEGY: [Snowball / Avalanche] with clear reasoning
    - Priority List:
      1. [Debt Name] - Balance: $X, Rate: Y% - Extra payment target
      2. [Debt Name] - Balance: $X, Rate: Y% - Pay minimum
    - Monthly Acceleration: Extra cash to apply to priority #1
    - Impact Projection: Time to clear first debt

    Example:
    "DEBT INVENTORY:
    - Didi Card: $10,148 MXN at 68.4% interest
    - Plata Card: $7,834 MXN at 18% interest
    - Nu Bank: $5,825 MXN at 15% interest

    SNOWBALL: Nu Bank → Plata → Didi (quick wins first)
    AVALANCHE: Didi → Plata → Nu Bank (highest rate first)

    RECOMMENDED: Avalanche - Didi Card has 68.4% rate, must eliminate first
    PRIORITY 1: Didi Card - Apply extra $2,000 MXN/month
    ESTIMATED CLEARANCE: 4 months"
  agent: debt_elimination_strategist
